-- Image Service Database Schema

CREATE TABLE IF NOT EXISTS "Images" (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL,
    content BYTEA,
    mimetype VARCHAR(255) NOT NULL,
    deleted BOOLEAN DEFAULT false NOT NULL
);

CREATE INDEX IF NOT EXISTS idx_images_created ON "Images"(created_at);
CREATE INDEX IF NOT EXISTS idx_images_deleted ON "Images"(deleted);

-- Mock Data
INSERT INTO "Images" (id, content, mimetype, deleted)
VALUES
  ('850e8400-e29b-41d4-a716-446655440001', '\x89504E470D0A1A0A0000000D494844520000010000000100080206000000904B7D1B00', 'image/png', false),
  ('850e8400-e29b-41d4-a716-446655440002', '\x89504E470D0A1A0A0000000D494844520000010000000100080206000000904B7D1B01', 'image/png', false),
  ('850e8400-e29b-41d4-a716-446655440003', '\xFFD8FFE000104A46494600010101006000600000', 'image/jpeg', false),
  ('850e8400-e29b-41d4-a716-446655440004', '\xFFD8FFE000104A46494600010101006000600000', 'image/jpeg', false),
  ('850e8400-e29b-41d4-a716-446655440005', '\x89504E470D0A1A0A0000000D494844520000010000000100080206000000904B7D1B02', 'image/png', false);
