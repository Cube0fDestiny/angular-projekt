<div class="profile-sidebar">
  
  <!-- Bio Section -->
  <div class="sidebar-section">
    <div class="section-header">
      <h3 class="section-title">Bio</h3>
      <orang-button 
        size="small" 
        *ngIf="(user?.id==currentUser?.id) && !isEditingBio" 
        (click)="toggleEditingBio()"
      >
        Edit
      </orang-button>
    </div>
    
    <!-- Edit Form -->
    <app-text-display variant="white" *ngIf="isEditingBio">
      <form (ngSubmit)="updateBio()" class="flex flex-col gap-3">
        <input
          type="text"
          [(ngModel)]="editedBio"
          name="editedBio"
          placeholder="Write something about yourself!"
          class="w-full bg-transparent border-none p-0 text-inherit focus:outline-none"
        >
        <div class="grid grid-cols-2 gap-2 mt-2">
          <orang-button type="submit" size="small" [istoggleable]="false">
            confirm
          </orang-button>
          <orang-button type="button" (click)="toggleEditingBio()" size="small" [istoggleable]="false">
            cancel
          </orang-button>
        </div>
      </form>
    </app-text-display>
    
    <!-- Display Bio -->
    <app-text-display variant="white" *ngIf="user?.bio && !isEditingBio">
      <p>{{ user?.bio }}</p>
    </app-text-display>
  </div>

  <!-- Followers Section -->
  <div class="sidebar-section" *ngIf="user?.is_company">
    <div class="section-header">
      <h3 class="section-title">
        <span class="section-icon">ğŸ‘¥</span>
        Followers
      </h3>
      <orang-button (click)="goToFollowerList()" size="small">
        See all
      </orang-button>
    </div>
    <div class="friends-grid" *ngIf="loadedFollowers">
      <div 
        *ngFor="let follower of followers.slice(0, 9)"
        class="friend-card"
        (click)="goToFriendProfile(follower.follower)">
        
        <img 
          [src]="follower.profile_picture_url" 
          [alt]="follower.username"
          class="friend-avatar">
        
        <div class="friend-info">
          <span class="friend-name">{{ follower.username }}</span>
            <!-- <span class="friend-mutual" *ngIf="friend.mutualFriends">
            {{ friend.mutualFriends }} mutual friends
          </span> -->
        </div>
      </div>
      
      <!-- Empty State -->
      <div *ngIf="followers.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ‘¤</div>
        <p>No followers yet</p>
      </div>
    </div>
  </div>

  <!-- Friends Section -->
  <div class="sidebar-section" *ngIf="!user?.is_company">
    <div class="section-header">
      <h3 class="section-title">
        <span class="section-icon">ğŸ‘¥</span>
        Friends
      </h3>
      <orang-button (click)="goToFriendsList()" size="small">
        See all
      </orang-button>
    </div>
    
    <div class="friends-grid">
      <div 
        *ngFor="let friend of friends.slice(0, 9)"
        class="friend-card"
        (click)="goToFriendProfile(friend.id)">
        
        <img 
          [src]="friend.profile_picture_url" 
          [alt]="friend.name"
          class="friend-avatar">
        
        <div class="friend-info">
          <span class="friend-name">{{ friend.name }}</span>
           <!-- <span class="friend-mutual" *ngIf="friend.mutualFriends">
            {{ friend.mutualFriends }} mutual friends
          </span> -->
        </div>
      </div>
      
      <!-- Empty State -->
      <div *ngIf="friends.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ‘¤</div>
        <p>No friends yet</p>
      </div>
    </div>
  </div>
  
  <!-- Groups Section -->
  <div class="sidebar-section" *ngIf="!isLoading">
    <div class="section-header">
      <h3 class="section-title">
        <span class="section-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
        Groups
      </h3>
      <!-- <a [routerLink]="['/profile', userId, 'groups']" class="see-all">
        See all
      </a>-->
    </div>

    <div class="friends-grid">
      <div 
        *ngFor="let group of groups.slice(0, 9)"
        class="friend-card"
        (click)="goToGroup(group.id)">
        
        <img 
          [src]="group.profileImageUrl" 
          [alt]="group.name"
          class="friend-avatar">
        
        <div class="friend-info">
          <span class="friend-name">{{ group.name }}</span>
           <!-- <span class="friend-mutual" *ngIf="friend.mutualFriends">
            {{ friend.mutualFriends }} mutual friends
          </span> -->
        </div>
      </div>
      
      <!-- Empty State -->
      <div *ngIf="groups.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
        <p>No Groups yet</p>
      </div>
    </div>
  </div>
  
  <!-- Photos Section 
  <div class="sidebar-section">
    <div class="section-header">
      <h3 class="section-title">
        <span class="section-icon">ğŸ“¸</span>
        Photos
      </h3>
    <a [routerLink]="['/profile', userId, 'photos']" class="see-all">
        See all 
      </a>
    </div>
    
    <div class="photos-grid">
      <div 
        *ngFor="let photo of photos.slice(0, 9)"
        class="photo-card"
        (click)="openPhoto(photo)">
        
        <img 
          [src]="photo.url" 
          [alt]="photo.caption || 'Photo'"
          class="photo-image">
        
        <div class="photo-overlay" *ngIf="photo.caption">
          {{ photo.caption }}
        </div>
      </div>

      <div *ngIf="photos.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ“¸</div>
        <p>No photos yet</p>
      </div>
    </div>
  </div>-->
  
</div>