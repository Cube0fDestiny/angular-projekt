<div class="wall-container">
  <!-- Create New Post Section -->
  <div class="create-post-section" *ngIf="canPost">
    <app-text-display variant="beige" class="max-w-2xl w-full rounded-xl">
      
      <!-- Collapsed State - Just the button -->
      <div class="p-4" *ngIf="!isCreatingPost">
        <div class="flex items-center justify-center">
          <orang-button (click)="toggleCreatingPost()">
            âœï¸ Create New Post
          </orang-button>
        </div>
      </div>

      <!-- Expanded State - Form -->
      <div class="p-6" *ngIf="isCreatingPost">
        <form (ngSubmit)="createPost()" class="space-y-4">
          
          <!-- Header -->
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-700">
              ğŸ“ What's on your mind?
            </h3>
            <button 
              type="button"
              (click)="toggleCreatingPost()"
              class="text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100"
            >
              âœ•
            </button>
          </div>

          <!-- Textarea -->
          <app-text-display variant="white" class="block w-full rounded-lg overflow-hidden">
            <textarea
              [(ngModel)]="newPost"
              name="newPost"
              placeholder="Write something Orang! ğŸŠ"
              rows="4"
              class="w-full bg-transparent border-none p-4 focus:outline-none resize-y min-h-[120px] text-gray-700 placeholder-gray-400"
            ></textarea>
          </app-text-display>

          <!-- Action Buttons -->
          <div class="flex items-center justify-end gap-3 pt-2">
            <button 
              type="button"
              (click)="toggleCreatingPost()"
              class="px-4 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all"
            >
              Cancel
            </button>
            <orang-button 
              type="submit" 
              [istoggleable]="false"
              [disabled]="!newPost.trim()"
            >
              ğŸš€ Post
            </orang-button>
          </div>

        </form>
      </div>

    </app-text-display>
  </div>
</div>
  
  <!-- Posts List -->
  <div class="posts-list">
    <!-- Empty State -->
    <div *ngIf="posts.length === 0" class="empty-wall">
      <div class="empty-icon">ğŸ“</div>
      <h3>No posts yet</h3>
      <p>Be the first to share something!</p>
    </div>
    
    <!-- Posts -->
    <app-post-card
      *ngFor="let post of displayedPosts"
      [post]="post"
      (postDeleted)="onPostDeleted($event)">
    </app-post-card> 
    <!-- Load More Button -->
    <div *ngIf="showLoadMore && hasMorePosts" class="load-more">
      <orang-button (click)="loadMore()">
        Load More Posts ({{ posts.length - displayedPosts.length }} remaining)
      </orang-button>
    </div>
    
    <!-- End of Feed -->
    <div *ngIf="!hasMorePosts && posts.length > 0" class="end-of-feed">
      <p>ğŸ‰ You've seen all {{ posts.length }} posts!</p>
    </div>
  </div>